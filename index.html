<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width">
    <title>generateNumber</title>
    <link href="style.css" rel="stylesheet" type="text/css" />
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
  </head>
  <body>
    <h1>generateNumber Demo</h1>
    <p>Choose a number length, and see how a random number with that amount of digits is created...</p>
    <input id="length" type="number" placeholder="Choose length">
    <button id="submit-btn">Generate</button>
    <br><br>
    <div id="display"></div>
    <script>
      console.log(">> testing console");
      
      function generateNumber(){
        console.log(">> entering function generateNumber");
        var length = $("#length").val();
        var output = $("#display");
        output.html("");
        output.append("var length = ", length, ";");
        output.append("<br>");
        output.append(`<p class="explanation">We want ${length} digits for our random number. What's the lowest number with ${length} digits ? </p>`);
        output.append(`<p class="explanation">Calculating the lowest number for length ${length}:</p>`);
        var lowestNumber = Math.pow(10, length - 1);
        output.append("<p>var lowestNumber = Math.pow(10, length - 1); // lowestNumber = " + lowestNumber + "</p>");
        output.append(`<p class="explanation">What's the highest number with ${length} digits ? </p>`);
        var highestNumber = Math.pow(10, length) -1;
        var diff = highestNumber - lowestNumber;
        output.append(`<p class="explanation">That would be ${highestNumber} </p>`);
        output.append("<br>");
        output.append(`<p class="explanation">Since we start at ${lowestNumber}, the most we could add without going over ${highestNumber} would be ${diff}.</p>`);
        output.append(`<p class="explanation">So that number (${diff}), we call the 'offset'</p>`);
        output.append(`<p class="explanation">Calculating the offset:</p>`);
        var offset = Math.pow(10, length) - lowestNumber - 1;
        output.append("<p>var offset = Math.pow(10, length) - lowestNumber - 1; // offset = " + offset + "</p>");
        output.append("<br>");
        var number = Math.round(lowestNumber + Math.random()*offset);
        output.append(`<p class="explanation">Using Math.random() and variable offset to get a random ${length} digit  number</p>`);
        output.append("<p id='result'>var number = Math.round(lowestNumber + Math.random()*offset); // number = " + number + "</p>");
        output.append(`<p class="explanation">Makes sense?</p>`);
        output.append("<br>");
        output.append(`<p class="explanation">${number} will be returned by function generateNumber</p>`);
      }

      $("#submit-btn").click(generateNumber);
    </script>
  </body>
</html>